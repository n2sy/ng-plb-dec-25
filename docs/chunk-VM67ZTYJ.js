import{a as N}from"./chunk-EJECC62G.js";import{h as E}from"./chunk-UDCBYCK5.js";import{a as M,c as _,d as D,f as F,h as j,i as w,j as V,r as h}from"./chunk-QRJ4QUDI.js";import{m as y}from"./chunk-RHMWU7U6.js";import{$a as v,Na as e,Oa as t,Pa as i,Qa as g,Ta as S,U as l,W as p,Ya as s,Za as n,da as c,ea as f,fb as x,jb as C,kb as A,va as b}from"./chunk-XJE2RIN6.js";var P=class d{candSer=l(N);router=l(E);isSubmitted=!1;submitHandler(a,r){this.isSubmitted=!0;let m=new FormData;m.set("avatar",r.target[4].files[0]),this.candSer.uploadAvatar(m).subscribe({next:o=>{a.avatar=o.url,this.candSer.addCandidateAPI(a).subscribe({next:u=>{alert("Candidat ajout\xE9 avec succ\xE8s"),this.router.navigateByUrl("/cv")},error:u=>{console.log("Erreur avec l'ajout d'un candidat")}})}})}static \u0275fac=function(r){return new(r||d)};static \u0275cmp=p({type:d,selectors:[["app-add"]],standalone:!0,features:[x],decls:23,vars:3,consts:[["f","ngForm"],[3,"ngSubmit"],["for",""],["ngModel","","name","prenom","type","text",1,"form-control"],["ngModel","","name","nom","type","text",1,"form-control"],["ngModel","","name","age","type","number",1,"form-control"],["ngModel","","name","profession","type","text",1,"form-control"],["type","file",1,"form-control"],[1,"btn","btn-primary"]],template:function(r,m){if(r&1){let o=g();e(0,"form",1,0),S("ngSubmit",function(I){c(o);let B=s(1);return f(m.submitHandler(B.value,I))}),e(2,"label",2),n(3,"Pr\xE9nom"),t(),i(4,"input",3),e(5,"label",2),n(6,"Nom"),t(),i(7,"input",4),e(8,"label",2),n(9,"Age"),t(),i(10,"input",5),e(11,"label",2),n(12,"Profession"),t(),i(13,"input",6),e(14,"label",2),n(15,"Avatar"),t(),i(16,"input",7)(17,"br"),e(18,"pre"),n(19),C(20,"json"),t(),e(21,"button",8),n(22,"Ajouter Candidat"),t()()}if(r&2){let o=s(1);b(19),v("    ",A(20,1,o.value),`
  `)}},dependencies:[h,w,M,V,_,D,j,F,y]})};export{P as AddComponent};
